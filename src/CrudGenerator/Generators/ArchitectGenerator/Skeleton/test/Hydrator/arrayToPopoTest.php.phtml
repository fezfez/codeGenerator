<?php echo '<?php' . "\n"; ?>
namespace <?php echo $this->unitTestNamespace; ?>\<?php echo $this->dataObject->getNamespace(); ?>\Hydrator;

use ApplicationTest\FixtureManager;
use <?php echo $this->hydratorNamespace; ?>;
use <?php echo $this->dtoNamespace; ?>;
use <?php echo $this->daoNamespace; ?>;
use <?php echo $this->unitTestNamespace; ?>\<?php echo $this->dataObject->getNamespace(); ?>\<?php echo $this->dataObject->getEntityName(); ?>Fixture;

class ArrayToPopoTest extends \PHPUnit_Framework_TestCase
{
    public function testArrayToPopo()
    {
        $arrayDto = array();
<?php

$keyTestable = array();
$columnCollection = $this->dataObject->getMetadata()->getColumnCollection(true);
foreach($columnCollection as $field => $metadata):
$keyToTest = null;
$modifiedValue = $this->getHelper('FixtureRenderer')->render($metadata);
?>
        $arrayDto['<?php echo $metadata->getName(); ?>'] = <?php echo $this->getHelper('FixtureRenderer')->render($metadata); ?>;
<?php endforeach; ?>

        $sUT = new <?php echo $this->hydratorName; ?>();
        $dto = $sUT->arrayToPopo($arrayDto, new <?php echo $this->dataObjectName; ?>());

<?php
$columnCollection = $this->dataObject->getMetadata()->getColumnCollection(true);
foreach($columnCollection as $field => $metadata):
?>
        $this->assertEquals($dto->get<?php echo $metadata->getName(true); ?>(), $arrayDto['<?php echo $metadata->getName(); ?>']);
<?php endforeach; ?>
    }
}

